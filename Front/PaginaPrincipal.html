<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EyesEverywhere</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      color: #000000;
      background-color: #d4edda;
      transition: background-color 0.3s, color 0.3s;
    }

    body.dark-mode {
      background-color: #121212;
      color: #e0e0e0;
    }

    .dark-mode .card,
    .dark-mode .p-4.bg-white,
    .dark-mode .form-control {
      background-color: #1e1e1e !important;
      color: #fff;
    }

    .dark-mode .navbar,
    .dark-mode .footer {
      background-color: #1b1b1b !important;
    }

    .navbar-brand img {
      width: 40px;
      border-radius: 50%;
      margin-right: 10px;
    }

    .hero-carousel img {
      height: 500px;
      object-fit: cover;
      filter: brightness(70%);
    }

    .carousel-caption {
      position: absolute;
      top: 55%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgba(111, 111, 111, 0.639);
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      width: auto;
      max-width: 90%;
      min-width: 280px;
    }

    .carousel-caption h1 {
      font-size: 2.5rem;
      font-weight: bold;
      color: white;
    }

    .carousel-caption p {
      font-size: 1.2rem;
      color: white;
    }

    @media (max-width: 768px) {
      .carousel-caption h1 {
        font-size: 1.8rem;
      }

      .carousel-caption p {
        font-size: 1rem;
      }
    }

    .card1 img {
      height: 200px;
      object-fit: contain;
      background-color: #f8f9fa; /* opcional, ajuda a ver a imagem toda */
      border: 1px solid #dee2e6;
    }

    .card img {
      height: 200px;
      object-fit: cover;
    }


    .section-title {
      color: #28a745;
      font-weight: bold;
    }

    .footer {
      background: #28a745;
      color: white;
      padding: 40px 0;
      transition: background-color 0.3s;
    }

    .footer a {
      color: white;
      text-decoration: none;
    }

    .counter {
      font-size: 3rem;
      font-weight: bold;
      color: #28a745;
    }

    .bg-light-green {
      background-color: #d4edda;
    }

    .card:hover,
    .p-4.bg-white:hover {
      transform: scale(1.05);
      box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.1);
    }

    .card,
    .p-4.bg-white {
      transition: all 0.3s ease-in-out;
    }

    .card1:hover,
    .p-4.bg-white:hover {
      transform: scale(1.05);
      box-shadow: 0px 10px 20px rgba(0, 0, 0, 0.1);
    }

    .card1,
    .p-4.bg-white {
      transition: all 0.3s ease-in-out;
    }
    .suggestion-form input,
    .suggestion-form textarea {
      margin-bottom: 10px;
    }

    #scrollTopBtn {
      display: none;
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 1000;
      background-color: #28a745;
      color: white;
      border: none;
      border-radius: 50%;
      padding: 10px 15px;
      font-size: 20px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      cursor: pointer;
    }
    #darkModeToggle {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1051; /* garantir que est√° acima do menu */
    }

    @media (max-width: 1580px) {
        #darkModeToggle {
            top: 70px;
            right: 10px;
        }
    }

    .notification {
      position: fixed;
      bottom: 80px;
      left: 40px;
      background-color: #28a745;
      color: white;
      padding: 12px 18px;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      z-index: 999;
      display: none;
    }

    .dark-mode ::placeholder {
      color: #ccc !important;
      opacity: 1;
    }
    .dark-mode #sobre {
      background-color: #1e1e1e !important;
    }

    .dark-mode #sobre .section-title,
    .dark-mode #sobre .sobre {
      color: #f0f0f0 !important;
    }

    .dark-mode .modal-body{
        color: #000000 !important;
    }
    .dark-mode .modal-title{
        color: #000000 !important;
    }
    .dark-mode a.nav-link,
    .dark-mode .navbar-brand {
      color: #f0f0f0 !important;
    }
    .dark-mode #cta {
      background-color: #1e1e1e !important;
    }

    .dark-mode #cta,
    .dark-mode #cta p,
    .dark-mode #cta h2 {
      color: #f0f0f0 !important;
    }

    .vibrate {
      animation: vibrar 0.5s infinite;
    }
    @keyframes vibrar {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-2px); }
      50% { transform: translateX(2px); }
      75% { transform: translateX(-1px); }
    }
    #chatBody p {
          margin: 5px 0;
        }
        #chatBody p strong {
          color: #28a745;
        }


  </style>

</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm fixed-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center">
                <img src="imagens/Logo.png" alt="Logo"> EyesEverywhere
            </a>
            <!-- Bot√£o Dark Mode -->
            <button id="darkModeToggle" class="btn btn-outline-success btn-sm">
              <i class="fas fa-moon"></i>
            </button>            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">
                            <img src="imagens/3135768.png" alt="Profile" class="rounded-circle" width="30">
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <header>
        <div id="heroCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner hero-carousel">
                <div class="carousel-item active">
                    <img src="imagens/city.jpg" class="d-block w-100" alt="...">
                    <div class="carousel-caption d-block">
                        <h1>EyesEverywhere</h1>
                        <p>Plataforma de Higiene e Seguran√ßa Urbana</p>
                        <a href="#areas" class="btn btn-success">Saber Mais</a>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="imagens/limpeza.jpg" class="d-block w-100" alt="...">
                    <div class="carousel-caption d-block">
                        <h1>Limpeza Inteligente</h1>
                        <p>Automatiza√ß√£o de processos para manuten√ß√£o cont√≠nua.</p>
                        <a href="#sobre" class="btn btn-success">Saber Mais</a>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="imagens/vandalismo.jpg" class="d-block w-100" alt="...">
                    <div class="carousel-caption d-block">
                        <h1>Resposta R√°pida</h1>
                        <p>Resposta r√°pida com apoio de tecnologias de monitoriza√ß√£o</p>
                        <a href="#monitoriza√ß√£o" class="btn btn-success">Saber Mais</a>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Anterior</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Seguinte</span>
            </button>
        </div>
    </header>

    <section class="py-5 text-center bg-light-green">
      <div class="container">
        <div class="row g-4">
          <div class="col-md-3" data-aos="fade-up">
            <div class="p-4 bg-white rounded shadow-sm">
              <div id="counter-relatadas" class="counter">0</div>
              <p>Ocorr√™ncias Relatadas</p>
            </div>
          </div>
          <div class="col-md-3" data-aos="fade-up" data-aos-delay="100">
            <div class="p-4 bg-white rounded shadow-sm">
              <div id="counter-resolvidas" class="counter">0</div>
              <p>Fiscaliza√ß√µes Resolvidas</p>
            </div>
          </div>
          <div class="col-md-3" data-aos="fade-up" data-aos-delay="200">
            <div class="p-4 bg-white rounded shadow-sm">
              <div id="counter-analise" class="counter">0</div>
              <p>Ocorr√™ncias em An√°lise</p>
            </div>
          </div>
          <div class="col-md-3" data-aos="fade-up" data-aos-delay="300">
            <div class="p-4 bg-white rounded shadow-sm">
              <div id="counter-tempo" class="counter">0</div>
              <p>Tempo M√©dio de Resposta </p>
            </div>
          </div>
        </div>
      </div>
    </section>
      

    <section id="areas" class="py-5">
        <div class="container">
            <h2 class="section-title text-center mb-4">√Åreas de Atua√ß√£o</h2>
            <div class="row g-4">
                <div class="col-md-4" data-aos="zoom-in">
                    <div class="card">
                        <img src="imagens/limpeza.jpeg" class="card-img-top" alt="...">
                        <div class="card-body text-center">
                            <h5 class="card-title">Limpeza Urbana</h5>
                            <p class="card-text">Manuten√ß√£o e remo√ß√£o de res√≠duos em √°reas p√∫blicas.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="zoom-in" data-aos-delay="200">
                    <div class="card">
                        <img src="imagens/vandalismo.jpg" class="card-img-top" alt="...">
                        <div class="card-body text-center">
                            <h5 class="card-title">Vandalismo e Degrada√ß√£o</h5>
                            <p class="card-text">Resolu√ß√£o de atos de vandalismo em espa√ßos urbanos.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4" data-aos="zoom-in" data-aos-delay="400">
                    <div class="card">
                        <img src="imagens/higiene.jpg" class="card-img-top" alt="...">
                        <div class="card-body text-center">
                            <h5 class="card-title">Higiene e Seguran√ßa</h5>
                            <p class="card-text">Solu√ß√µes de limpeza para espa√ßos p√∫blicos e comerciais.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="sobre" class="py-5" style="background-color: #d4edda;">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6" data-aos="fade-right">
                    <img src="imagens/serv.jpeg" alt="Equipe de Trabalho" class="img-fluid rounded">
                </div>
                <div class="col-md-6" data-aos="fade-left">
                    <h2 class="section-title">Sobre N√≥s</h2>
                    <p class="sobre">A EyesEverywhere √© uma plataforma digital dedicada √† Higiene e Seguran√ßa Urbana, com foco no registo, monitoriza√ß√£o e resolu√ß√£o de ocorr√™ncias em espa√ßos p√∫blicos e comerciais.</p>
                    <p class="sobre">Nosso objetivo √© melhorar a qualidade de vida urbana, garantindo a limpeza, conserva√ß√£o e seguran√ßa dos ambientes por meio de uma plataforma acess√≠vel e intuitiva.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="registo-ocorrencia" class="py-5 text-center" style="background-color: #28a7451a;">
      <div class="container" data-aos="zoom-in">
        <div class="row align-items-center">
          <div class="col-md-6">
            <h2 class="section-title mb-3 text-success">Notou algo errado na sua cidade?</h2>
            <p class="lead mb-4">Ajude-nos a transformar o seu bairro! Registe ocorr√™ncias em segundos e contribua para uma cidade mais limpa, segura e moderna.</p>
            <a href="login.html" class="btn btn-success btn-lg vibrate">
              <i class="fas fa-exclamation-circle me-2"></i> Registar Ocorr√™ncia
            </a>
          </div>
          <div class="col-md-6 mb-4 mb-md-0">
            <img src="Imagens/limpa.jpg" 
                 alt="Cidad√£os a colaborar com a limpeza urbana" 
                 class="img-fluid rounded shadow-sm" style="max-height: 380px; object-fit: cover;">
          </div>
        </div>
      </div>
    </section>
    
    <section id="monitoriza√ß√£o" class="py-5">
      <div class="container">
          <h2 class="section-title text-center mb-4">Tecnologias de Motoriza√ß√£o</h2>
          <div class="row g-4">
              <div class="col-md-4" data-aos="zoom-in">
                  <div class="card1">
                      <img src="imagens/app.png" class="card-img-top" alt="...">
                      <div class="card-body text-center">
                          <h5 class="card-title">App de Ocorr√™ncias</h5>
                      </div>
                  </div>
              </div>
              <div class="col-md-4" data-aos="zoom-in" data-aos-delay="200">
                  <div class="card1">
                      <img src="imagens/analise.png" class="card-img-top" alt="...">
                      <div class="card-body text-center">
                          <h5 class="card-title">An√°lise em Tempo Real</h5>
                      </div>
                  </div>
              </div>
              <div class="col-md-4" data-aos="zoom-in" data-aos-delay="400">
                  <div class="card1">
                      <img src="imagens/dash.png" class="card-img-top" alt="...">
                      <div class="card-body text-center">
                          <h5 class="card-title">Dashboard de Ocorr√™ncias</h5>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </section>
  <section id="cta" class="py-5 text-center bg-light-green" data-aos="zoom-in">
    <div class="container">
      <h2 class="mb-4 section-title" data-aos="fade-up" data-aos-delay="100">
        Transforme a sua cidade com a EyesEverywhere
      </h2>
      <p class="lead mb-4" data-aos="fade-up" data-aos-delay="200">
        Atualize auditorias, melhore a seguran√ßa urbana e contribua para espa√ßos p√∫blicos mais limpos e seguros ‚Äî tudo com apenas alguns toques.
      </p>
      <a href="login.html" class="btn btn-success btn-lg" data-aos="fade-up" data-aos-delay="300">
        Entrar
      </a>
    </div>
  </section>
  


    <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-md-6 text-center text-md-start mb-4 mb-md-0">
              <h4>Entre em Contato</h4>
              <p><strong>Telefone:</strong> +351 911 456 789</p>
              <p><strong>Email:</strong> eyeseverywhere@gmail.com</p>
              <p><strong>Endere√ßo:</strong> Rua da Universidade, 123, Guimar√£es</p>
            </div>
            <div class="col-md-6">
              <h4 class="text-center text-md-start">Sugest√µes</h4>
              <form class="suggestion-form">
                <div class="mb-2">
                  <input type="text" class="form-control" id="nome" placeholder="Nome" required>
                </div>
                <div class="mb-2">
                  <input type="email" class="form-control" id="email" placeholder="Email" required>
                </div>
                <div class="mb-2">
                  <textarea class="form-control" id="sugestao" rows="3" placeholder="Escreva a sua sugest√£o..." required></textarea>
                </div>
                <div class="text-end">
                  <button type="submit" class="btn btn-light btn-sm">Enviar</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </footer>

          <!-- Bot√£o de abrir chat -->
<button id="chatSimulado" class="btn btn-success rounded-circle shadow" title="Ajuda" style="position: fixed; bottom: 100px; right: 30px; z-index: 1050;">
  <i class="fas fa-robot"></i>
</button>

<!-- Janela de chat -->
<div id="chatWindow" class="shadow" style="display: none; position: fixed; bottom: 160px; right: 30px; width: 300px; background: white; border-radius: 12px; overflow: hidden; z-index: 1051;">
  <div style="background: #28a745; color: white; padding: 10px; font-weight: bold;">
    üëã Assistente Virtual
    <span style="float: right; cursor: pointer;" onclick="fecharChat()">‚úñ</span>
  </div>
  <div id="chatBody" style="max-height: 300px; overflow-y: auto; padding: 10px; font-size: 0.9rem;">
    <p class="modal-body"><strong>Bot:</strong> Ol√°! Como posso ajudar?</p>
    <button class="btn btn-outline-success btn-sm w-100 my-1" onclick="responder('Como registar uma ocorr√™ncia?')">Como registar uma ocorr√™ncia?</button>
    <button class="btn btn-outline-success btn-sm w-100 my-1" onclick="responder('Quem resolve os problemas?')">Quem resolve os problemas?</button>
    <button class="btn btn-outline-success btn-sm w-100 my-1" onclick="responder('Como consultar as ocorr√™ncias todas?')">Como consultar as ocorr√™ncias todas?</button>
    <button class="btn btn-outline-success btn-sm w-100 my-1" onclick="responder('Como validar ocorr√™ncias?')">Como validar ocorr√™ncias?</button>
  </div>
</div>
    
      <!-- Bot√£o Scroll Top -->
       <!-- Notifica√ß√£o -->
  <div class="notification" id="suggestionNotification">
    Obrigado pela sua sugest√£o!
  </div>

  <!-- Bot√£o Scroll Top -->
  <button id="scrollTopBtn" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
    <i class="fas fa-arrow-up"></i>
  </button>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    document.querySelector('.suggestion-form').addEventListener('submit', function(e) {
      e.preventDefault(); // evita envio real do formul√°rio
  
      const nome = document.getElementById('nome').value;
      const email = document.getElementById('email').value;
      const sugestao = document.getElementById('sugestao').value;
  
      const sugestaoData = {
        nome,
        email,
        sugestao,
        data: new Date().toLocaleString()
      };
  
      // Obter sugest√µes existentes (se houver)
      let sugestoes = JSON.parse(localStorage.getItem('sugestoes')) || [];
  
      // Adicionar nova sugest√£o
      sugestoes.push(sugestaoData);
  
      // Guardar de novo no localStorage
      localStorage.setItem('sugestoes', JSON.stringify(sugestoes));
  
      // Limpar formul√°rio
      this.reset();
  
      alert('Sugest√£o guardada com sucesso!');
    });
  </script>
  <script>
    AOS.init();

    const scrollBtn = document.getElementById("scrollTopBtn");
    window.addEventListener("scroll", () => {
      scrollBtn.style.display = window.scrollY > 200 ? "block" : "none";
    });

    document.addEventListener("DOMContentLoaded", () => {
  setTimeout(() => {
    const msg = document.createElement("div");
    msg.className = "notification";
    msg.innerHTML = `
      J√° contribu√≠ste hoje para tua cidade?<br>
      <a href="login.html" style="color: white; text-decoration: underline;">Clica aqui para registar uma ocorr√™ncia!</a>
    `;
    document.body.appendChild(msg);
    msg.style.display = "block";
    setTimeout(() => msg.remove(), 5000);
  }, 1000);


        const counters = document.querySelectorAll(".counter");
        counters.forEach(counter => {
            const updateCount = () => {
                const target = +counter.innerText;
                let count = 0;

                // Reduz o step para tornar a anima√ß√£o mais lenta e suave
                const step = Math.max(1, Math.ceil(target / 10000)); // Aumentar divisor = mais lento

                const animate = () => {
                    count += step;
                    if (count < target) {
                        counter.innerText = count;
                        setTimeout(animate, 400); // Aumenta o tempo de atraso = mais lento
                    } else {
                        counter.innerText = target;
                    }
                };

                // Come√ßa anima√ß√£o
                counter.innerText = "0"; // Garantir que come√ßa do zero
                animate();
            };

            updateCount();
        });
    });


    const toggle = document.getElementById("darkModeToggle");
    toggle.addEventListener("click", () => {
      document.body.classList.toggle("dark-mode");
      toggle.innerHTML = document.body.classList.contains("dark-mode")
        ? '<i class="fas fa-sun"></i>'
        : '<i class="fas fa-moon"></i>';
    });


    function showNotification(e) {
      e.preventDefault();
      const notification = document.getElementById("suggestionNotification");
      notification.style.display = "block";
      setTimeout(() => {
        notification.style.display = "none";
      }, 3000);
    }
    // L√™ as ocorr√™ncias do localStorage
    const stored = localStorage.getItem('ocorrencias');
    let ocorrencias = [];
  
    try {
      ocorrencias = stored ? JSON.parse(stored) : [];
    } catch (e) {
      console.error("Erro a ler 'ocorrencias' do localStorage:", e);
    }
  
    // Contadores
    const totalRelatadas = ocorrencias.length;
    const totalResolvidas = ocorrencias.filter(o => o.estado?.toLowerCase() === "finalizada").length;
    const totalAnalise = ocorrencias.filter(o =>
      ["inicial", "em an√°lise"].includes(o.estado?.toLowerCase())
    ).length;
  
    // Tempo m√©dio de resposta
    const hoje = new Date();
    const resolvidas = ocorrencias.filter(o => o.estado?.toLowerCase() === "finalizada");
    let totalDias = 0;
  
    resolvidas.forEach(o => {
      const dataOcorrencia = new Date(o.dataHora);
      const dias = (hoje - dataOcorrencia) / (1000 * 60 * 60 * 24);
      totalDias += dias;
    });
  
    const tempoMedio = resolvidas.length > 0 ? Math.round(totalDias / resolvidas.length) : 0;
  
    // Atualiza os elementos do DOM
    document.getElementById('counter-relatadas').textContent = totalRelatadas;
    document.getElementById('counter-resolvidas').textContent = totalResolvidas;
    document.getElementById('counter-analise').textContent = totalAnalise;
    document.getElementById('counter-tempo').textContent = tempoMedio;
  </script>
  <script>
    const chatBtn = document.getElementById("chatSimulado");
    const chatWindow = document.getElementById("chatWindow");
    const chatBody = document.getElementById("chatBody");
  
    chatBtn.addEventListener("click", () => {
      chatWindow.style.display = chatWindow.style.display === "none" ? "block" : "none";
    });
  
    function fecharChat() {
      chatWindow.style.display = "none";
    }
  
    function responder(pergunta) {
      const userMsg = `<p><strong>Tu:</strong> ${pergunta}</p>`;
      chatBody.innerHTML += userMsg;
  
      let resposta = "";
      switch (pergunta) {
        case "Como registar uma ocorr√™ncia?":
          resposta = "Acede √† tua conta, clica em 'Registar Ocorr√™ncia', preenche os dados e submete.";
          break;
        case "Quem resolve os problemas?":
          resposta = "As equipas de limpeza, peritos, t√©cnicos municipais e autoridades locais atuam nas ocorr√™ncias.";
          break;
        case "Como consultar as ocorr√™ncias todas?":
          resposta = "Faz login, vai √† tabela onde podes consultar as tuas ocorr√™ncias e as registadas por outros utilizadores.";
          break;
        case "Como validar ocorr√™ncias?":
          resposta = "Faz login, vai ao mapa e ter√°s todas as ocorr√™ncias no estado 'inicial', onde poder√°s verificar se existem ou n√£o.";
          break;
        default:
          resposta = "Desculpa, ainda estou a aprender isso!";
      }
  
  
      setTimeout(() => {
        chatBody.innerHTML += `<p><strong>Bot:</strong> ${resposta}</p>`;
        chatBody.scrollTop = chatBody.scrollHeight;
      }, 500);
    }
  </script>
</body>

</html>
